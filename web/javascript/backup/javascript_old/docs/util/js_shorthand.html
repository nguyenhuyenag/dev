<!DOCTYPE html>
<html lang="vi">

<head>
    <title>JS Shorthand</title>
    <meta charset="utf-8">
    <script>
        // longhand
        let value;
        if (data !== null || data !== undefined || data !== '') {
            value = data;
        } else {
            value = "new";
        }
        // shorthand
        const value = data || 'new';



        // longhand
        let dbHost;
        if (process.env.DB_HOST) {
            dbHost = process.env.DB_HOST;
        } else {
            dbHost = 'localhost';
        }

        // shorthand
        const dbHost = process.env.DB_HOST || 'localhost';



        // longhand
        let x;
        let y;
        let z = 3;
        //shorthand
        let x, y, z = 3;



        // Decimal base exponents
        // longhand
        for (let i = 0; i < 100000; i++) { }

        // shorthand
        for (let i = 0; i < 1e5; i++) { }
        // giá trị các biểu thức sau đều là true
        1e0 === 1;
        1e1 === 10;
        1e2 === 100;
        1e3 === 1000;
        1e4 === 10000;
        1e5 === 100000;



        // Object property
        const x = 1, y = 2;
        const obj = { x: x, y: y };

        const x = 1, y = 2;
        const obj = { x, y };



        // longhand
        function sayHello(name) {
            console.log('Hello', name);
        }

        setTimeout(function () {
            console.log('Loaded')
        }, 2000);

        list.forEach(function (item) {
            console.log(item);
        });

        // shorthand
        sayHello = name => console.log('Hello', name);
        setTimeout(() => console.log('Loaded'), 2000);
        list.forEach(item => console.log(item));


        // longhand
        function getValue(a, b, c) {
            if (a === undefined)
                a = 3;
            if (b === undefined)
                b = 4;
            return a * b + c;
        }
        // shorthand
        getValue = (a, b = 3, c = 4) => (a * b + c);


        // Spread Operator

        // longhand
        // joining arrays
        const odd = [1, 3, 5];
        const nums = [2, 4, 6].concat(odd);

        // cloning arrays
        const arr = [1, 2, 3, 4];
        const arr2 = arr.slice();

        // shorthand
        // joining arrays
        const odd = [1, 3, 5];
        const nums = [2, 4, 6, ...odd];

        // cloning arrays
        const arr = [1, 2, 3, 4];
        const arr2 = [...arr];

        // longhand
        const odd = [1, 3, 5];
        const nums = [2, ...odd, 4, 6];

        // longhand
        function sayHello(firstName, lastName, nickName) {
            // TODO
        }
        var names = ['A', 'B', 'C'];
        sayHello(names[0], names[1], names[2])


        // longhand
        sayHello(...names)


        // Object [key]
        function validate(fullName) {
            if (!fullName.firstName)
                return false;
            if (!fullName.lastName)
                return false;
            return true;
        }
        console.log(validate({ firstName: 'A', lastName: 'B' })); // true

        // Đoạn code trên hoạt động rất tốt, tuy nhiên nó lại chỉ áp dụng được với duy nhất trường hợp object có đúng 2 property firstName, lastName. Để có thể áp dụng được với những object có property khác, validation rule khác thì ta cần viết tổng quát hơn

        const rule = {
            firstName: {
                required: true
            },
            lastName: {
                required: true
            }
        }
        const validate = (rule, values) => {
            for (prop in rule) {
                if (rule[prop].required) {
                    if (!values[prop]) {
                        return false;
                    }
                }
            }
            return true;
        }
        console.log(validate(rule, { firstName: 'A' })); // false
        console.log(validate(rule, { firstName: 'A', lastName: 'B' })); // true


        // bitwise NOT Double
        // Double bitwise NOT (2 lần phủ định) có thể dùng thay thế cho hàm làm tròn xuống Math.floor()
        Math.floor(6.9) === 6 // true
        ~~6.9 === 6 // true



        // longhand
        const pets = [
            { type: 'Dog', name: 'Max' },
            { type: 'Cat', name: 'Karl' },
            { type: 'Dog', name: 'Tommy' },
        ]

        function findDog(name) {
            for (let i = 0; i < pets.length; ++i) {
                if (pets[i].type === 'Dog' && pets[i].name === name) {
                    return pets[i];
                }
            }
        }

        // shorthand
        pet = pets.find(pet => pet.type === 'Dog' && pet.name === 'Tommy');
        console.log(pet); // { type: 'Dog', name: 'Tommy' }



        // longhand
        const num1 = parseInt("100");
        const num2 = parseFloat("100.01");

        // shorthand
        const num1 = +"100"; // converts to int data type
        const num2 = +"100.01"; // converts to float data type



        // Object Property Assignment
        let fname = { firstName: 'Black' };
        let lname = { lastName: 'Panther' };
        let full_names = Object.assign(fname, lname); // {firstName: "Black", lastName: "Panther"}

        // shorthand
        let full_names = { ...fname, ...lname };
    </script>
</head>

<body>

</body>

</html>
